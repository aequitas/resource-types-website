

<!DOCTYPE html>
<html lang="en">
<head>
    
    <title>Duty Free - Jira Integration</title>

    <link rel="stylesheet" type="text/css" href="/dutyfree/static/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet">
</head>
<body>
<div class="container detail-page">
    <div class="logo-area">
        <div class="title">
            <h1>CONCOURSE DUTY FREE</h1>
        </div>
    </div>


    <div class="search">
         
    </div>

    <nav class="sidebar">
         
    </nav>

    <main class="content">

        <div class="breadcrumb">
        
        
            
                    <span class="breadcrumb-link"><a href="/dutyfree">All Resources</a></span>
                
        
            
                    <span>Jira Integration</span>
            
        
        </div>

        
    <section class="top-area">
        <a target="_blank" href="https://github.com/danrspencer/jira-resource" class="github-icon-detail item">
            <img src="/dutyfree/static/GitHub-Mark-120px-plus.png" alt="Resource Source on Github"
                 title="Resource Source on Github">
        </a>
        <h2 class="name item">Jira Integration</h2>
        <div class="last-version item"></div>
        <a href="https://github.com/danrspencer" target="_blank" class="author item">danrspencer</a>
    </section>
    <section class="middle-area">
        <div class="row">
            <img class="github-last-commit"
                 alt="GitHub last commit"
                 src="https://img.shields.io/github/last-commit/danrspencer/jira-resource.svg?label=Last%20commit&labelColor=757474&color=C4C4C4&style=flat-square">
            
    <div class="github-stars">
        <img src="https://img.shields.io/github/stars/danrspencer/jira-resource.svg?logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAADQAAAAxCAYAAACVtYpYAAAETElEQVRoQ%2B2aWUxTQRSGTymJJvCkLxRp1cSlIIooMS7ghkajGBeEUjEuKGqMJsYFRZaC4IJbjMYoirgrhYoEt6BBg4pRY2JYVEAfBKrwyAMkmgDH3Jqrt5fe3pnbO9QQ7wspnPnP%2F82ZHmam1cAAezQDjAf6Dej8hQLkJm%2FLpo1MczIVF1Z%2FyoyZDqC31c%2BZ5mQqzgPduFWEWTkHHS%2BzM9Mh0WxilpeZsLA6s6IX4Lfv3x2%2FGhYYCFWVFczyMhMWAo0KHu9Ybvzz5VMds7zMhHnz8xbG4NfmZqdmOmb0KHhYfpdJbiai7qrDukpMgZatNGH9h48u%2F9WFjguBMptV9fyqC5JUh2WVmAGt27gZX1a%2FcrsRmRUVCZcunFPVg6piNNVhVSUmQNt37MJHFY%2BJtokxixbCqRPHVPOhmpDQ%2FZhxYdjb20sE5OPjA00falTzoZoQ7z413YIld0qJYPggsykOcrIyVfGiioiS946YWK3dgyKgW0VWbG21Q4vdDo6frXbo7OykqopUsL%2B%2FPxj0QaDXB4EhKAgMBj2YTfHEPiUDufNLK2%2FYboe2tnbo6elRxbRSEa1WCzpdgAPUAazXw%2BbkDU4MTi8uFl7GvGMnlebz6ri9e3ZCctJ6jcsKjQ6ZgIhOG2SvmnWXXKPRwOePtX84JJecMXQidnt5icnNoq%2BvLzTUvZdecmKB0PAI%2FPHjp5yuV%2F4%2BePAgqH%2F%2Frk9BZLtHWMRU7Orq8oppqaR%2Bfn5Q8%2B61S%2B%2ByQJxoxLQo7Ojo%2BCeghg4ZAm%2BqqyR9EwFxJFFz5mNbe7tXoXQBAfDi2RO3nomBOJLoBYuxuaXFK1DDDQaorHgg61c2QOx%2B8dIV2Nj0uV%2BhQoKNUF5aQuSVKEjsfkW8GWvr6vsFavKkcLDevEbskzhQ7J7kROopceSM6XClIJ%2FKI1Ww2OCS5XH4qaHBU98uxwcbjXDvLtkyEwp4BOTqzk0tupEjhsOTR%2Fep%2FVEPEBoW34iqBcPrKDkj%2FQfiZ%2B%2Fq9RuYcyhP7aI46WWk7YO1qxOpJp0qWJgtJTUNS8vKmQLFLl8KeYdyqTxSBQvdxyyLxYbGJqZAxrFj4X6ZjcojVbDQPc1VlVJqJVdcioFoOxx3%2BcE9tJcptJ1OEVBRsQ3TLdnEE59oNnEfRTpyWQ7korXYBqSn4dxsCyTEryT2SRwodJ%2BRlYO3rcWyQNFzZ0P%2B2TMuc2zaug2fPquS1ViVYIIDlt%2BTQfIQBwrFYk2rsKa2TlKfZtsit32aGDYBbEU3iX0SBwrdG8eHY3d3dx%2BgQJ0Onj99rEhT6gDp6iLEXaUUJRc3BO4NvyV5g8dfqjiXfxHzCwr7NA6axuARkK9WCwmmOMjKSFOkIzXTmdm5WFzyt3EwBTp45Chevnod5s2dA%2BfPnlYVRAzIN46kdWtg%2F949RLmIgoSJDh89jqkpu6nHkXQoqRhuEtP2pRDlJAryxEx%2Fjx1wQL8AYxVtQRu%2FaUcAAAAASUVORK5CYII%3D&style=social"
             alt="github_stars">
    </div>

        </div>
        <div class="row">
            <div class="description">
                <h3>Description</h3>
                <div class="desc">
                    
                </div>
                <div class="tags">
                    
                        <span class="get">GET</span>
                    
                    
                        <span class="put">PUT</span>
                    
                </div>
            </div>
            
        </div>
    </section>
    <section id="github-readme">
        <h3>Read Me</h3>
        <div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content p-5" itemprop="text"><h3><a id="user-content-im-no-longer-actively-maintaining-this-repository-and-i-wont-be-performing-any-more-development-myself-for-the-foreseeable-future" class="anchor" aria-hidden="true" href="#im-no-longer-actively-maintaining-this-repository-and-i-wont-be-performing-any-more-development-myself-for-the-foreseeable-future"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>I'm no longer actively maintaining this repository and I won't be performing any more development myself for the foreseeable future.</h3>
<h3><a id="user-content-i-am-happy-to-look-over-and-merge-any-pull-requests-raised" class="anchor" aria-hidden="true" href="#i-am-happy-to-look-over-and-merge-any-pull-requests-raised"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>I am happy to look over and merge any pull requests raised.</h3>
<hr>
<h1><a id="user-content-jira-ticket-resource" class="anchor" aria-hidden="true" href="#jira-ticket-resource"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Jira Ticket Resource</h1>
<p><a href="https://travis-ci.org/vergissberlin/jira-resource" rel="nofollow"><img src="https://camo.githubusercontent.com/231279fcc9fdc3aa224b9d30506d034901240f14/68747470733a2f2f7472617669732d63692e6f72672f766572676973736265726c696e2f6a6972612d7265736f757263652e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/vergissberlin/jira-resource.svg?branch=master" style="max-width:100%;"></a>
<a href="https://scrutinizer-ci.com/g/vergissberlin/jira-resource/?branch=master" rel="nofollow"><img src="https://camo.githubusercontent.com/e867b3e6ae217ba482ab22a7960aac362f0feb2d/68747470733a2f2f7363727574696e697a65722d63692e636f6d2f672f766572676973736265726c696e2f6a6972612d7265736f757263652f6261646765732f7175616c6974792d73636f72652e706e673f623d6d6173746572" alt="Scrutinizer Code Quality" data-canonical-src="https://scrutinizer-ci.com/g/vergissberlin/jira-resource/badges/quality-score.png?b=master" style="max-width:100%;"></a>
<a href="https://scrutinizer-ci.com/code-intelligence" rel="nofollow"><img src="https://camo.githubusercontent.com/5d6ae24edecc1feb49a344c41ec1ad6be61549fe/68747470733a2f2f7363727574696e697a65722d63692e636f6d2f672f766572676973736265726c696e2f6a6972612d7265736f757263652f6261646765732f636f64652d696e74656c6c6967656e63652e7376673f623d6d6173746572" alt="Code Intelligence Status" data-canonical-src="https://scrutinizer-ci.com/g/vergissberlin/jira-resource/badges/code-intelligence.svg?b=master" style="max-width:100%;"></a>
<a href="https://www.codacy.com/app/andre_1725/jira-resource?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=vergissberlin/jira-resource&amp;utm_campaign=Badge_Grade" rel="nofollow"><img src="https://camo.githubusercontent.com/a6c29717b7f1b1467b66b98fb1107ea43783d748/68747470733a2f2f6170692e636f646163792e636f6d2f70726f6a6563742f62616467652f47726164652f6632666630626265386563373436623761663037643362623038386530373837" alt="Codacy Badge" data-canonical-src="https://api.codacy.com/project/badge/Grade/f2ff0bbe8ec746b7af07d3bb088e0787" style="max-width:100%;"></a></p>
<p>Create and update Jira tickets via Concourse</p>
<h2><a id="user-content-quick-example" class="anchor" aria-hidden="true" href="#quick-example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Quick Example</h2>
<div class="highlight highlight-source-yaml"><pre>- <span class="pl-ent">name</span>: <span class="pl-s">update-jira</span>
  <span class="pl-ent">plan</span>:
      - <span class="pl-ent">put</span>: <span class="pl-s">jira</span>
        <span class="pl-ent">params</span>:
            <span class="pl-ent">issue_type</span>: <span class="pl-s">Change</span>
            <span class="pl-ent">issue_key</span>: <span class="pl-s">BUILD-11</span>
            <span class="pl-ent">summary</span>: <span class="pl-s">Build v1.0.1</span>
            <span class="pl-ent">fields</span>:
                <span class="pl-ent">description</span>: <span class="pl-s">With some text</span></pre></div>
<h2><a id="user-content-source-configuration" class="anchor" aria-hidden="true" href="#source-configuration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Source Configuration</h2>
<p>Newer versions of Jira no longer support username and password credentials for its basic auth method and have switched to email and API token instead. You will need to generate an API token from an account with sufficient permissions to perform the actions this plugin supports. See <a href="https://developer.atlassian.com/cloud/jira/platform/jira-rest-api-basic-authentication/" rel="nofollow">the Jira documentation</a> for more information.</p>
<div class="highlight highlight-source-yaml"><pre><span class="pl-ent">resources</span>:
    - <span class="pl-ent">name</span>: <span class="pl-s">jira</span>
      <span class="pl-ent">type</span>: <span class="pl-s">jira-resource</span>
      <span class="pl-ent">source</span>:
          <span class="pl-ent">url</span>: <span class="pl-s">https://xxxxx.atlassian.net</span>
          <span class="pl-ent">email</span>: <span class="pl-s">xxxxx</span>
          <span class="pl-ent">apitoken</span>: <span class="pl-s">xxxxx</span>
          <span class="pl-ent">project</span>: <span class="pl-s">APROJECT</span></pre></div>
<p>If you are using an older version of Jira Server that still supports the deprecated password-based basic auth, you can keep using the previous set of source settings as below</p>
<div class="highlight highlight-source-yaml"><pre><span class="pl-ent">resources</span>:
    - <span class="pl-ent">name</span>: <span class="pl-s">jira</span>
      <span class="pl-ent">type</span>: <span class="pl-s">jira-resource</span>
      <span class="pl-ent">source</span>:
          <span class="pl-ent">url</span>: <span class="pl-s">https://xxxxx.atlassian.net</span>
          <span class="pl-ent">username</span>: <span class="pl-s">xxxxx</span>
          <span class="pl-ent">password</span>: <span class="pl-s">xxxxx</span>
          <span class="pl-ent">project</span>: <span class="pl-s">APROJECT</span></pre></div>
<h2><a id="user-content-resource-type-configuration" class="anchor" aria-hidden="true" href="#resource-type-configuration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resource Type Configuration</h2>
<div class="highlight highlight-source-yaml"><pre><span class="pl-ent">resource_types</span>:
    - <span class="pl-ent">name</span>: <span class="pl-s">jira-resource</span>
      <span class="pl-ent">type</span>: <span class="pl-s">docker-image</span>
      <span class="pl-ent">source</span>:
          <span class="pl-ent">repository</span>: <span class="pl-s">danrspencer/jira-resource</span>
          <span class="pl-ent">tag</span>: <span class="pl-s">latest</span></pre></div>
<h2><a id="user-content-behavior" class="anchor" aria-hidden="true" href="#behavior"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Behavior</h2>
<h3><a id="user-content-out-creates-updates-and-transitions-a-jira-ticket" class="anchor" aria-hidden="true" href="#out-creates-updates-and-transitions-a-jira-ticket"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>out</code>: Creates, updates and transitions a Jira ticket</h3>
<h4><a id="user-content-text" class="anchor" aria-hidden="true" href="#text"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>$TEXT</h4>
<p>The <code>summary</code>, <code>fields</code> and <code>custom_fields</code> can be either a string value, or an object with <code>text</code> / <code>file</code> fields. If just the <code>file</code> or <code>text</code> is specified it is used to populate the field, if both <code>file</code> and <code>text</code> are specified then the file is substituted in to replace $FILE in the text.</p>
<p>e.g.</p>
<div class="highlight highlight-source-yaml"><pre><span class="pl-ent">description</span>: <span class="pl-s">An awesome ticket</span>
---<span class="pl-s">----</span>
<span class="pl-ent">description</span>:
  <span class="pl-ent">file</span>: <span class="pl-s">messages/this-will-be-the-description</span>
---<span class="pl-s">----</span>
<span class="pl-ent">description</span>:
  <span class="pl-ent">text</span>: <span class="pl-s">|</span>
<span class="pl-s">    Substitute text into this messaage</span>
<span class="pl-s"></span>
<span class="pl-s">    $FILE</span>
<span class="pl-s"></span>  <span class="pl-ent">file</span>: <span class="pl-s">messages/jira-message</span>
---<span class="pl-s">----</span>
<span class="pl-ent">description</span>:
  <span class="pl-ent">text</span>: <span class="pl-s">|</span>
<span class="pl-s">    Substitute text into this messaage</span></pre></div>
<h4><a id="user-content-now" class="anchor" aria-hidden="true" href="#now"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>$NOW</h4>
<p>If a date field needs to be populated with a date relative to current time <code>$NOW</code> can be used. The datetime can be modified relative to the current date.</p>
<p>e.g.</p>
<pre><code>$NOW
# One hour ahead
$NOW+1h
# Yesterday
$NOW-1d
</code></pre>
<p><em>KEY</em></p>
<ul>
<li><code>years y</code></li>
<li><code>weeks w</code></li>
<li><code>days d</code></li>
<li><code>hours h</code></li>
<li><code>minutes m</code></li>
<li><code>seconds s</code></li>
</ul>
<h4><a id="user-content-parameters" class="anchor" aria-hidden="true" href="#parameters"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parameters</h4>
<ul>
<li><code>issue_key</code>: Just using for searching / updating existing issue. For searching / updating issue, priority is higher than searching by <code>summary</code>.</li>
</ul>
<div class="highlight highlight-source-yaml"><pre><span class="pl-ent">issue_key</span>: <span class="pl-s">BUILD-11</span>
---<span class="pl-s">----</span>
<span class="pl-ent">issue_key</span>: <span class="pl-s">BUILD-11,BUILD-12,BUILD-13</span>
---<span class="pl-s">----</span>
<span class="pl-ent">issue_key</span>:
  <span class="pl-ent">file</span>: <span class="pl-s">issue/key</span>
---<span class="pl-s">----</span>
<span class="pl-ent">issue_key</span>:
  <span class="pl-ent">text</span>: <span class="pl-s">BUILD-$FILE</span>
  <span class="pl-ent">file</span>: <span class="pl-s">issue/key</span>
---<span class="pl-s">----</span>
<span class="pl-ent">issue_key</span>:
  <span class="pl-ent">text</span>: <span class="pl-s">BUILD-11</span></pre></div>
<ul>
<li><code>summary</code>: <em>required for create issue</em> The summary of the Jira Ticket. This is used as a unique identifier for the ticket for the purpose of updating / modifying. As such it's recommended you include something unique in the summary, such as the build version. For searching/updating issue, priority is lower than searching by <code>summary</code>.</li>
</ul>
<div class="highlight highlight-source-yaml"><pre><span class="pl-ent">summary</span>: <span class="pl-s">Ticket Summary</span>
---<span class="pl-s">----</span>
<span class="pl-ent">summary</span>:
  <span class="pl-ent">text</span>: <span class="pl-s">Build v$FILE</span>
  <span class="pl-ent">file</span>: <span class="pl-s">version/version</span></pre></div>
<ul>
<li><code>issue_type</code>: The issue type for the ticket</li>
</ul>
<div class="highlight highlight-source-yaml"><pre><span class="pl-ent">issue_type</span>: <span class="pl-s">Bug</span></pre></div>
<ul>
<li><code>fields</code>: A list of fields to be set with specified values</li>
</ul>
<div class="highlight highlight-source-yaml"><pre><span class="pl-ent">fields</span>:
    <span class="pl-ent">description</span>:
        <span class="pl-ent">text</span>: <span class="pl-s">|</span>
<span class="pl-s">            Routine Release</span>
<span class="pl-s"></span>
<span class="pl-s">            $FILE</span>
<span class="pl-s"></span>        <span class="pl-ent">file</span>: <span class="pl-s">messages/jira-release-notes</span>
    <span class="pl-ent">environment</span>: <span class="pl-s">Prod</span>
    <span class="pl-ent">duedate</span>: <span class="pl-s">$NOW+1h</span></pre></div>
<ul>
<li><code>custom_fields</code>: A list of custom fields to update. The id and value are used to update the custom field. You can also specify the type of custom field. Currently supported types are:
<ul>
<li>Default (no type specified): set a <code>FreeTextField</code> custom field.</li>
<li><code>selectlist</code>: set a <code>SelectList</code> custom field. Can set its value by ID with the <code>value_id</code> key or by value with the <code>value</code> key.</li>
</ul>
</li>
</ul>
<p>Have a look at the <a href="https://developer.atlassian.com/server/jira/platform/jira-rest-api-examples/#creating-an-issue-examples" rel="nofollow">JIRA API documentation</a> for more information about the different field types and their content format.</p>
<p>The property title doesn't matter, it's purpose is to make the pipeline yml more understandable.</p>
<div class="highlight highlight-source-yaml"><pre><span class="pl-ent">custom_fields</span>:
    <span class="pl-ent">sample_freetext_field</span>:
        <span class="pl-ent">id</span>: <span class="pl-c1">10201</span>
        <span class="pl-ent">value</span>: <span class="pl-s">Something</span>
    <span class="pl-ent">sample_selectlist_field</span>:
        <span class="pl-ent">id</span>: <span class="pl-c1">10202</span>
        <span class="pl-ent">type</span>: <span class="pl-s">selectlist</span>
        <span class="pl-ent">value</span>: <span class="pl-s">Some selectlist value</span>
    <span class="pl-ent">sample_selectlist_id_field</span>:
        <span class="pl-ent">id</span>: <span class="pl-c1">10203</span>
        <span class="pl-ent">type</span>: <span class="pl-s">selectlist</span>
        <span class="pl-ent">value_id</span>: <span class="pl-s"><span class="pl-pds">"</span>123<span class="pl-pds">"</span></span></pre></div>
<ul>
<li><code>watchers</code>: An array of usernames to be added as watchers to the ticket</li>
</ul>
<div class="highlight highlight-source-yaml"><pre><span class="pl-ent">watchers</span>:
    - <span class="pl-s">dave</span>
    - <span class="pl-s">amier</span>
    - <span class="pl-s">lauren</span></pre></div>
<ul>
<li><code>transitions</code>: An array of string values for the ticket to be moved through. The transitions are conducted in the order specified.</li>
</ul>
<div class="highlight highlight-source-yaml"><pre><span class="pl-ent">transitions</span>:
    - <span class="pl-s">Submit</span>
    - <span class="pl-s">In Dev</span></pre></div>
<ul>
<li><code>comments</code>: Add comments.</li>
</ul>
<div class="highlight highlight-source-yaml"><pre><span class="pl-ent">comments</span>:
    - <span class="pl-ent">content</span>:
        <span class="pl-ent">text</span>: <span class="pl-s">|</span>
<span class="pl-s">            New comment</span>
<span class="pl-s">            $FILE</span>
<span class="pl-s"></span>        <span class="pl-ent">file</span>: <span class="pl-s">messages/jira-release-notes</span>
    - <span class="pl-ent">content</span>:
        <span class="pl-ent">file</span>: <span class="pl-s">messages/jira-release-notes</span>
    - <span class="pl-ent">content</span>:
        <span class="pl-ent">text</span>: <span class="pl-s">|</span>
<span class="pl-s">            New comment</span>
<span class="pl-s"></span>    - <span class="pl-ent">content</span>: <span class="pl-s">New comment</span></pre></div>
<ul>
<li><code>search_filters</code>: Custom filter when searching issues.</li>
</ul>
<div class="highlight highlight-source-yaml"><pre><span class="pl-ent">search_filters</span>:
    <span class="pl-ent">status</span>: <span class="pl-s">Done</span>
    <span class="pl-ent">type</span>: <span class="pl-s">Bug</span></pre></div>
<h4><a id="user-content-order-of-execution" class="anchor" aria-hidden="true" href="#order-of-execution"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Order of execution</h4>
<p>When executing the Jira job the ticket is updated in the following order:</p>
<ul>
<li>Search for existing issue matching <code>summary</code> given</li>
<li>Create ticket / update ticket</li>
<li>Add watchers</li>
<li>Perform transitions</li>
<li>Add comments</li>
</ul>
<p>If you need to perform actions in a different order, for example, transitions before adding watchers then multiple jobs are required.</p>
<p>e.g.</p>
<div class="highlight highlight-source-yaml"><pre><span class="pl-c"><span class="pl-c">#</span> Create ticket and Submit</span>
- <span class="pl-ent">put</span>: <span class="pl-s">jira</span>
  <span class="pl-ent">params</span>:
    <span class="pl-ent">issue_type</span>: <span class="pl-s">Change</span>
    <span class="pl-ent">summary</span>:
      <span class="pl-ent">text</span>: <span class="pl-s">Site v$FILE</span>
      <span class="pl-ent">file</span>: <span class="pl-s">version/version</span>
    <span class="pl-ent">transitions</span>:
       - <span class="pl-s">Submit</span>

<span class="pl-c"><span class="pl-c">#</span> Create sub task</span>
- <span class="pl-ent">put</span>: <span class="pl-s">jira</span>
  <span class="pl-ent">params</span>:
    <span class="pl-ent">parent</span>: <span class="pl-s">ABC</span>
    <span class="pl-ent">issue_type</span>: <span class="pl-s">Sub: Task</span>
    <span class="pl-ent">summary</span>:
      <span class="pl-ent">text</span>: <span class="pl-s">Site v$FILE</span>
      <span class="pl-ent">file</span>: <span class="pl-s">version/version</span>

<span class="pl-c"><span class="pl-c">#</span> Add a watcher then move to in dev</span>
- <span class="pl-ent">put</span>: <span class="pl-s">jira</span>
  <span class="pl-ent">params</span>:
    <span class="pl-ent">summary</span>:
      <span class="pl-ent">text</span>: <span class="pl-s">Site v$FILE</span>
      <span class="pl-ent">file</span>: <span class="pl-s">version/version</span>
    <span class="pl-ent">watchers</span>:
    - <span class="pl-s">dan</span>
    <span class="pl-ent">transitions</span>:
    - <span class="pl-s">In Dev</span></pre></div>
<h4><a id="user-content-real-world-example" class="anchor" aria-hidden="true" href="#real-world-example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Real world example</h4>
<div class="highlight highlight-source-yaml"><pre><span class="pl-ent">jobs</span>:
    - <span class="pl-ent">name</span>: <span class="pl-s">start-release</span>
      <span class="pl-ent">plan</span>:
          - <span class="pl-ent">get</span>: <span class="pl-s">code-base</span>
            <span class="pl-ent">trigger</span>: <span class="pl-c1">true</span>
          - <span class="pl-ent">get</span>: <span class="pl-s">version</span>
          - <span class="pl-ent">task</span>: <span class="pl-s">write-release-notes</span>
            <span class="pl-ent">config</span>:
                <span class="pl-ent">platform</span>: <span class="pl-s">linux</span>
                <span class="pl-ent">image_resource</span>:
                    <span class="pl-ent">source</span>:
                        <span class="pl-ent">repository</span>: <span class="pl-s">travix/base-alpine-git</span>
                    <span class="pl-ent">type</span>: <span class="pl-s">docker-image</span>
                <span class="pl-ent">inputs</span>:
                    - <span class="pl-ent">name</span>: <span class="pl-s">version</span>
                    - <span class="pl-ent">name</span>: <span class="pl-s">code-base</span>
                <span class="pl-ent">run</span>:
                    <span class="pl-ent">path</span>: <span class="pl-s">code-base/ci/scripts/write-release-notes</span>
                <span class="pl-ent">outputs</span>:
                    - <span class="pl-ent">name</span>: <span class="pl-s">messages</span>
          - <span class="pl-ent">put</span>: <span class="pl-s">jira</span>
            <span class="pl-ent">params</span>:
                <span class="pl-ent">issue_type</span>: <span class="pl-s">Change</span>
                <span class="pl-ent">summary</span>:
                    <span class="pl-ent">text</span>: <span class="pl-s">Build v$FILE</span>
                    <span class="pl-ent">file</span>: <span class="pl-s">version/version</span>
                <span class="pl-ent">fields</span>:
                    <span class="pl-ent">description</span>:
                        <span class="pl-ent">text</span>: <span class="pl-s">|</span>
<span class="pl-s">                            Routine Release</span>
<span class="pl-s"></span>
<span class="pl-s">                            $FILE</span>
<span class="pl-s"></span>
<span class="pl-s">                            _Generated by Concourse_</span>
<span class="pl-s"></span>                        <span class="pl-ent">file</span>: <span class="pl-s">messages/jira-release-notes</span>
                    <span class="pl-ent">environment</span>: <span class="pl-s">Prod</span>
                    <span class="pl-ent">duedate</span>: <span class="pl-s">$NOW+1h</span>
                <span class="pl-ent">custom_fields</span>:
                    <span class="pl-ent">how_awesome</span>:
                        <span class="pl-ent">id</span>: <span class="pl-c1">10201</span>
                        <span class="pl-ent">value</span>: <span class="pl-s">Very!</span>
                <span class="pl-ent">transitions</span>:
                    - <span class="pl-s">Submit</span>
          - <span class="pl-ent">put</span>: <span class="pl-s">jira</span>
            <span class="pl-ent">params</span>:
                <span class="pl-ent">summary</span>:
                    <span class="pl-ent">text</span>: <span class="pl-s">Build v$FILE</span>
                    <span class="pl-ent">file</span>: <span class="pl-s">version/version</span>
                <span class="pl-ent">watchers</span>:
                    - <span class="pl-s">dave</span>
                    - <span class="pl-s">amier</span>
                    - <span class="pl-s">lauren</span>
                <span class="pl-ent">transitions</span>:
                    - <span class="pl-s">Approve</span>
                <span class="pl-ent">comments</span>:
                    - <span class="pl-ent">content</span>: <span class="pl-s">New comment by consourse</span>

<span class="pl-ent">resources</span>:
    - <span class="pl-ent">name</span>: <span class="pl-s">code-base</span>
      <span class="pl-ent">type</span>: <span class="pl-s">git</span>
      <span class="pl-ent">source</span>:
          <span class="pl-ent">uri</span>: <span class="pl-s">git@github.com:danrspencer/jira-resource.git</span>
          <span class="pl-ent">branch</span>: <span class="pl-s">master</span>
          <span class="pl-ent">private_key</span>: <span class="pl-s">{ { private-repo-key } }</span>

    - <span class="pl-ent">name</span>: <span class="pl-s">version</span>
      <span class="pl-ent">type</span>: <span class="pl-s">semver</span>
      <span class="pl-ent">source</span>:
          <span class="pl-ent">driver</span>: <span class="pl-s">git</span>
          <span class="pl-ent">uri</span>: <span class="pl-s">git@github.com:danrspencer/jira-resource.git</span>
          <span class="pl-ent">branch</span>: <span class="pl-s">version</span>
          <span class="pl-ent">private_key</span>: <span class="pl-s">{ { private-repo-key } }</span>
          <span class="pl-ent">file</span>: <span class="pl-s">version</span>

    - <span class="pl-ent">name</span>: <span class="pl-s">jira</span>
      <span class="pl-ent">type</span>: <span class="pl-s">jira-resource</span>
      <span class="pl-ent">source</span>:
          <span class="pl-ent">url</span>: <span class="pl-s">https://jira.atlassian.net</span>
          <span class="pl-ent">email</span>: <span class="pl-s">{ { jira-email } }</span>
          <span class="pl-ent">apitoken</span>: <span class="pl-s">{ { jira-api-token } }</span>
          <span class="pl-ent">project</span>: <span class="pl-s">JR</span>

<span class="pl-ent">resource_types</span>:
    - <span class="pl-ent">name</span>: <span class="pl-s">jira-resource</span>
      <span class="pl-ent">type</span>: <span class="pl-s">docker-image</span>
      <span class="pl-ent">source</span>:
          <span class="pl-ent">repository</span>: <span class="pl-s">danrspencer/jira-resource</span>
          <span class="pl-ent">tag</span>: <span class="pl-s">latest</span></pre></div>
</article></div>
    </section>


    </main>
</div>
    
</body>
</html>







